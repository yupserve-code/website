<?phpinclude_once '../page_initialization.php';include_once(dirname(dirname(__FILE__)) . '/header.php');$filename = '../config.php';$file = file_exists($filename);if ($file) {    if (filesize($filename) > 0) {            } else {        header('Location:' . SITE_URL . 'ct_install.php');    }}include(dirname(dirname(__FILE__)) . '/objects/class_connection.php');include(dirname(dirname(__FILE__)) . "/objects/class_setting.php");include(dirname(dirname(__FILE__)) . "/objects/class_version_update.php");session_start();$con = new cleanto_db();$conn = $con->connect();if (isset($_SESSION['ct_adminid'])) {    header('Location:' . SITE_URL . "admin/calendar.php");} $query = "select * from ct_admin_info";$info = $conn->query($query);if (@mysqli_num_rows($info) == 0) {    header("Location:../");}$settings = new cleanto_setting();$settings->conn = $conn;$objcheckversion = new cleanto_version_update();$objcheckversion->conn = $conn;$current = $settings->get_option('ct_version');if ($current == "") {    $objcheckversion->insert_option("ct_version", "1.1");}$current = $settings->get_option('ct_version');if ($current < 1.1) {    $settings->set_option("ct_version", "1.1");    $objcheckversion->update1_1();}$current = $settings->get_option('ct_version');if ($current < 1.2) {    $settings->set_option("ct_version", "1.2");    $objcheckversion->update1_2();}$current = $settings->get_option('ct_version');if ($current < 1.3) {    $settings->set_option("ct_version", "1.3");    $objcheckversion->update1_3();}$current = $settings->get_option('ct_version');if ($current < 1.4) {    $settings->set_option("ct_version", "1.4");    $objcheckversion->update1_4();}$current = $settings->get_option('ct_version');if ($current < 1.5) {    $settings->set_option("ct_version", "1.5");    $objcheckversion->update1_5();}$current = $settings->get_option('ct_version');if ($current < 1.6) {    $settings->set_option("ct_version", "1.6");    $objcheckversion->update1_6();}$current = $settings->get_option('ct_version');if ($current < 2.0) {    $settings->set_option("ct_version", "2.0");    $objcheckversion->update2_0();}$current = $settings->get_option('ct_version');if ($current < 2.1) {    $settings->set_option("ct_version", "2.1");}$current = $settings->get_option('ct_version');if ($current < 2.2) {    $settings->set_option("ct_version", "2.2");    $objcheckversion->update2_2();}$current = $settings->get_option('ct_version');if ($current < 2.3) {    $settings->set_option("ct_version", "2.3");    $objcheckversion->update2_3();}$current = $settings->get_option('ct_version');if ($current < 2.4) {    $settings->set_option("ct_version", "2.4");    $objcheckversion->update2_4();}$current = $settings->get_option('ct_version');if ($current < 2.5) {    $settings->set_option("ct_version", "2.5");    $objcheckversion->update2_5();}$current = $settings->get_option('ct_version');if ($current < 2.6) {    $settings->set_option("ct_version", "2.6");    $objcheckversion->update2_6();}$current = $settings->get_option('ct_version');if ($current < 2.7) {    $settings->set_option("ct_version", "2.7");    $objcheckversion->update2_7();}$current = $settings->get_option('ct_version');if ($current < 2.8) {    $settings->set_option("ct_version", "2.8");    $objcheckversion->update2_8();}$current = $settings->get_option('ct_version');if ($current < 3.0) {    $settings->set_option("ct_version", "3.0");    $objcheckversion->update3_0();}$current = $settings->get_option('ct_version');if ($current < 3.1) {    $settings->set_option("ct_version", "3.1");}$current = $settings->get_option('ct_version');if ($current < 3.2) {    $settings->set_option("ct_version", "3.2");    $objcheckversion->update3_2();}$current = $settings->get_option('ct_version');if ($current < 3.3) {    $settings->set_option("ct_version", "3.3");    $objcheckversion->update3_3();}$current = $settings->get_option('ct_version');if ($current < 4.0) {    $settings->set_option("ct_version", "4.0");    $objcheckversion->update4_0();}$current = $settings->get_option('ct_version');if ($current < 4.1) {    $settings->set_option("ct_version", "4.1");    $objcheckversion->update4_1();}$current = $settings->get_option('ct_version');if ($current < 4.2) {    $settings->set_option("ct_version", "4.2");    $objcheckversion->update4_2();}$current = $settings->get_option('ct_version');if ($current < 4.3) {    $settings->set_option("ct_version", "4.3");    $objcheckversion->update4_3();}$current = $settings->get_option('ct_version');if ($current < 4.4) {    $settings->set_option("ct_version", "4.4");    $objcheckversion->update4_4();}$current = $settings->get_option('ct_version');if ($current < 5.0) {    $settings->set_option("ct_version", "5.0");    $objcheckversion->update5_0();}$lang = $settings->get_option("ct_language");$label_language_values = array();$language_label_arr = $settings->get_all_labelsbyid($lang);if ($language_label_arr[1] != "" || $language_label_arr[3] != "" || $language_label_arr[4] != "" || $language_label_arr[5] != "" || $language_label_arr[6] != "") {    $default_language_arr = $settings->get_all_labelsbyid("en");    if ($language_label_arr[1] != '') {        $label_decode_front = base64_decode($language_label_arr[1]);    } else {        $label_decode_front = base64_decode($default_language_arr[1]);    }    if ($language_label_arr[3] != '') {        $label_decode_admin = base64_decode($language_label_arr[3]);    } else {        $label_decode_admin = base64_decode($default_language_arr[3]);    }    if ($language_label_arr[4] != '') {        $label_decode_error = base64_decode($language_label_arr[4]);    } else {        $label_decode_error = base64_decode($default_language_arr[4]);    }    if ($language_label_arr[5] != '') {        $label_decode_extra = base64_decode($language_label_arr[5]);    } else {        $label_decode_extra = base64_decode($default_language_arr[5]);    }    if ($language_label_arr[6] != '') {        $label_decode_front_form_errors = base64_decode($language_label_arr[6]);    } else {        $label_decode_front_form_errors = base64_decode($default_language_arr[6]);    }    $label_decode_front_unserial = unserialize($label_decode_front);    $label_decode_admin_unserial = unserialize($label_decode_admin);    $label_decode_error_unserial = unserialize($label_decode_error);    $label_decode_extra_unserial = unserialize($label_decode_extra);    $label_decode_front_form_errors_unserial = unserialize($label_decode_front_form_errors);    $label_language_arr = array_merge($label_decode_front_unserial, $label_decode_admin_unserial, $label_decode_error_unserial, $label_decode_extra_unserial, $label_decode_front_form_errors_unserial);    foreach ($label_language_arr as $key => $value) {        $label_language_values[$key] = urldecode($value);    }} else {    $default_language_arr = $settings->get_all_labelsbyid("en");    $label_decode_front = base64_decode($default_language_arr[1]);    $label_decode_admin = base64_decode($default_language_arr[3]);    $label_decode_error = base64_decode($default_language_arr[4]);    $label_decode_extra = base64_decode($default_language_arr[5]);    $label_decode_front_form_errors = base64_decode($default_language_arr[6]);    $label_decode_front_unserial = unserialize($label_decode_front);    $label_decode_admin_unserial = unserialize($label_decode_admin);    $label_decode_error_unserial = unserialize($label_decode_error);    $label_decode_extra_unserial = unserialize($label_decode_extra);    $label_decode_front_form_errors_unserial = unserialize($label_decode_front_form_errors);    $label_language_arr = array_merge($label_decode_front_unserial, $label_decode_admin_unserial, $label_decode_error_unserial, $label_decode_extra_unserial, $label_decode_front_form_errors_unserial);    foreach ($label_language_arr as $key => $value) {        $label_language_values[$key] = urldecode($value);    }}$loginimage = $settings->get_option('ct_login_image');if ($loginimage != '') {    $imagepath = SITE_URL . "assets/images/backgrounds/" . $loginimage;} else {    $imagepath = SITE_URL . "assets/images/login-bg.jpg";}?><!DOCTYPE html><html lang="en">    <head>        <meta charset="UTF-8" />        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">        <meta name="viewport" content="width=device-width, initial-scale=1.0">        <title><?php echo $settings->get_option("ct_page_title"); ?> | Login</title>		<link rel="shortcut icon" href="<?php echo $base_url; ?>images/favicons/favicon.ico" type="image/x-icon" />  		<link rel="apple-touch-icon" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon.png" />  		<link rel="apple-touch-icon" sizes="57x57" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-57x57.png" />  		<link rel="apple-touch-icon" sizes="72x72" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-72x72.png" />  		<link rel="apple-touch-icon" sizes="76x76" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-76x76.png" />  		<link rel="apple-touch-icon" sizes="114x114" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-114x114.png" />		<link rel="apple-touch-icon" sizes="120x120" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-120x120.png" />		<link rel="apple-touch-icon" sizes="144x144" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-144x144.png" />		<link rel="apple-touch-icon" sizes="152x152" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-152x152.png" />		<link rel="apple-touch-icon" sizes="180x180" href="<?php echo $base_url; ?>images/favicons/apple-touch-icon-180x180.png" />        <!--<link rel="shortcut icon" type="image/png" href="<?php //echo BASE_URL; ?>/assets/images/backgrounds/<?php //echo $settings->get_option('ct_favicon_image'); ?>"/>-->        <link rel="stylesheet" type="text/css" href="<?php echo BASE_URL; ?>/assets/css/login-style.css" />        <link rel="stylesheet" type="text/css" href="<?php echo BASE_URL; ?>/assets/css/bootstrap/bootstrap.min.css" />        <link rel="stylesheet" type="text/css" href="<?php echo BASE_URL; ?>/assets/css/bootstrap/bootstrap-theme.min.css" />        <!-- **Google - Fonts** -->        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">        <!--    <link rel="stylesheet" type="text/css" href="--><?php /* echo BASE_URL; */ ?><!--/assets/css/font-awesome.css" />-->        <link rel="stylesheet" type="text/css" href="<?php echo BASE_URL; ?>/assets/css/font-awesome/css/font-awesome.css" />        <script type="text/javascript" src="<?php echo BASE_URL; ?>/assets/js/jquery-2.1.4.min.js"></script>        <script src="<?php echo BASE_URL; ?>/assets/js/jquery.validate.min.js"></script>        <script type="text/javascript" src="<?php echo BASE_URL; ?>/assets/js/bootstrap.min.js"></script>        <script type="text/javascript" src="<?php echo BASE_URL; ?>/assets/js/login.js"></script>        <script type="text/javascript">            var ajax_url = '<?php echo AJAX_URL; ?>';            var base_url = '<?php echo BASE_URL; ?>';        </script>        <style>            body{                font-family: 'Open Sans', sans-serif;                background: url(<?php echo $imagepath; ?>) no-repeat;                background-image: url("<?php echo $imagepath; ?>");                font-weight: 300;                /*                background-size: 100% !important;*/                background-size: cover !important;                font-size: 15px;                color: #333;                -webkit-font-smoothing: antialiased;	            }            /* css loader */            .ct-loading-main{                 display: none;                 position: fixed;                 z-index: 100;                 top: 0px;                 left: 0px;                 height: 100%;                 width: 100%;                 background: rgba(0,0,0,0.5);                 overflow: auto;                 z-index: 99999;            }            .loader, .loader:before, .loader:after {                 background: #ffffff ;                 -webkit-animation: load1 1s infinite ease-in-out;                 -moz-animation: load1 1s infinite ease-in-out;                 -o-animation: load1 1s infinite ease-in-out;                 -ms-animation: load1 1s infinite ease-in-out;                 animation: load1 1s infinite ease-in-out;                 width: 1em;                 height: 4em;            }            .loader:before,#ct .loader:after {                 position: absolute;                 top: 0;                 content: '';            }            .loader:before {                 left: -1.5em;                 -webkit-animation-delay: -0.32s;                 -moz-animation-delay: -0.32s;                 animation-delay: -0.32s;            }            .loader {                 position : fixed;                 top: 50% !important;                 left: 50% !important;                 -webkit-transform: translate(-50%, -50%);                 -moz-transform: translate(-50%, -50%);                 -ms-transform: translate(-50%, -50%);                 transform: translate(-50%, -50%);                 text-indent: -9999em;                 -webkit-transform: translateZ(0);                 -ms-transform: translateZ(0);                 transform: translateZ(0);                 -webkit-animation-delay: -0.16s;                 -moz-animation-delay: -0.16s;                 animation-delay: -0.16s;            }            .loader:after {                 left: 1.5em;            }            @-webkit-keyframes load1 {                 0%, 80%, 100% {                     box-shadow: 0 0 #ffffff;                     height: 4em;                }                 40% {                     box-shadow: 0 -2em #ffffff;                     height: 5em;                }            }            @-moz-keyframes load1 {                 0%, 80%, 100% {                     box-shadow: 0 0 #ffffff;                     height: 4em;                }                 40% {                     box-shadow: 0 -2em #ffffff;                     height: 5em;                }            }            @keyframes load1 {                 0%, 80%, 100% {                     box-shadow: 0 0 #ffffff;                     height: 4em;                }                 40% {                     box-shadow: 0 -2em #ffffff;                     height: 5em;                }            }            /* CSS loader */        </style>    </head>    <?php include(dirname(__FILE__) . "/language_js_objects.php"); ?>    <body>        <div id="ct-login">            <section class="main">                <div class="ct-loading-main">                    <div class="loader">Loading...</div>                </div>                <div class="vertical-alignment-helper">                    <div class="vertical-align-center">                        <div class="ct-main-login visible animated fadeInUp">                            <div class="form-container clearfix">                                <div class="left-info-div">                                    <img src="<?php echo $base_url; ?>images/login-abstract.png" class="img-responsive"/>                                </div>                                <div class="tab-content">                                    <form id="login_frm11" name="" method="POST">                                        <img class="login-logo" src="<?php echo $base_url; ?>images/logo.jpg"/>                                        <h1 class="log-in">Login</h1>                                        <div class="form-group fl">                                            <label for="userEmail"><i class="icon-envelope-alt"></i><?php echo $label_language_values['email']; ?></label>                                            <input type="email" id="userEmail" value="<?php echo isset($_COOKIE['cleanto_username']) ? $_COOKIE['cleanto_username'] : ""; ?>" name="txtname" placeholder="Enter your email" onkeydown="if (event.keyCode == 13)                                                        document.getElementById('mybtnlog').click()">                                        </div>                                        <div class="form-group fl">                                            <label for="userPassword"><i class="icon-lock"></i><?php echo $label_language_values['password']; ?></label>                                            <input type="password" id="userPassword" name="txtpassword" placeholder="Enter your password" value="<?php echo isset($_COOKIE['cleanto_password']) ? $_COOKIE['cleanto_password'] : ""; ?>"  class="showpassword" onkeydown="if (event.keyCode == 13)                                                        document.getElementById('mybtnlog').click()">                                            <div class="ct-show-pass">                                                <input id="show-pass" class="ct-checkbox" name="" value="" type="checkbox">                                                <label for="show-pass"><span class="show-pass-text"></span></label>                                            </div>                                        </div>                                        <div class="login-error" style="color:red;">                                            <label>Invalid email or password, please try again.</label>                                        </div>                                        <div class="ct-custom-checkbox">                                            <ul class="ct-checkbox-list" style="margin-top: 10px;">                                                <li>                                                    <input type="checkbox" id="remember_me" class="ct-checkbox" name="remember_me" <?php                                                    if (isset($_COOKIE['cleanto_remember'])) {                                                        echo "checked";                                                    } else {                                                        echo "";                                                    }                                                    ?> />                                                    <label for="remember_me"><span></span><?php echo $label_language_values['remember_me']; ?></label>                                                </li>                                            </ul>                                        </div>                                        <div class="clearfix" style="float: left; width: 100%">                                            <a id="mybtnlog" class="btn ct-login-btn btn-lg col-xs-12 mybtnloginadmin" href="javascript:void(0)"><?php echo $label_language_values['login']; ?></a>                                        </div>                                        <div class="clearfix">                                            <a class="btn btn-link col-xs-12" id="ct_forget_password" href="javascript:void(0)"><?php //echo $label_language_values['forget_password']; ?>Forgot Password</a>                                        </div>                                    </form>                                </div>​​                            </div>​​                        </div>​​<!-- login end here -->                        <!-- forget password -->                        <div class="ct-main-forget-password hide-data visible">                            <div class="form-container clearfix">                                <div class="left-info-div">                                    <img src="<?php echo $base_url; ?>images/login-abstract.png" class="img-responsive"/>                                </div>                                <div class="tab-content">                                    <form id="forget_pass" name="" method="POST">                                        <img class="login-logo" src="<?php echo $base_url; ?>images/login.png"/>                                        <h1 class="forget-password"><?php echo $label_language_values['reset_password']; ?></h1>                                        <h4><?php echo $label_language_values['enter_your_email_and_we_will_send_you_instructions_on_resetting_your_password']; ?></h4>                                        <div class="form-group fl">                                            <label for="userfpEmail"><i class="icon-envelope-alt"></i><?php echo $label_language_values['registered_email']; ?></label>                                            <input type="email" id="rp_user_email" name="rp_user_email" placeholder="Enter email address">                                            <label class="forget_pass_correct"></label>                                            <label class="forget_pass_incorrect"></label>                                        </div>                                        <div class="forgotpassword-error" style="color:red;">                                            <label>Invalid email or password</label>                                        </div>                                        <div class="clearfix" style="float: left; width: 100%">                                            <a class="btn ct-info-btn btn-lg col-xs-12 mybtnsendemail_forgotpass" id="reset_pass" href="javascript:void(0)"><?php echo $label_language_values['send_mail']; ?></a>                                        </div>                                        <div class="clearfix">                                            <a class="btn btn-link col-xs-12" id="ct_login_user" href="javascript:void(0)"><?php echo $label_language_values['login']; ?></a>                                        </div>                                    </form>                                </div>​​                            </div>​​                        </div>​​                    </div>                </div>            </section>        </div>    </body>    <script>        $(document).ready(function(){            // form validation            $('#login_frm11').validate({                rules: {                    txtname: {                        required: true,                        email: true,                         maxlength: 96                    },                    txtpassword: {                        required: true,                         maxlength: 16                    },                },                messages: {                    txtname: {                        required: 'Please enter email address',                        email: 'Please enter a valid email address',                         maxlength: 'Email shold be maximum 96 characters'                    },                    txtpassword: {                        required: 'Please enter password',                        maxlength: 'Password shold be maximum 10 characters'                    }                }            });        });    </script></html>